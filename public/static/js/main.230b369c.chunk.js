(this["webpackJsonpsocket-helper"]=this["webpackJsonpsocket-helper"]||[]).push([[0],{141:function(e,t,n){e.exports=n(246)},146:function(e,t,n){},176:function(e,t){},195:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(6),i=n.n(l),s=(n(146),n(57)),c=n(62),r=n(63),d=n(5),u=n(68),m=n(71),g=n(115),p=n.n(g),h=n(116),k=n.n(h),b=(n(195),n(250)),E=n(248),y=n(251),f=n(255),v=n(256),S=n(38),L=n(249),w=n(252),C=n(257),W=n(254),U=n(253),O=n(58),q=n.n(O),R={socketUrlList:[{env:"\ub85c\uceec",url:"http://localhost:9090?prj=sdtalk&appid=sdtadm&cid=1&token=1aec31172508a8",loginApiUrl:"http://localhost:9090/auth/sdtalk/sdtadm/1/emp/login",loginId:"csmaster1",loginPassword:"1212"},{env:"\uac1c\ubc1c",url:"http://localhost:9091?prj=sdtalk&appid=sdtadm&cid=1&token=1aec31172508a8",loginApiUrl:"http://localhost:9091/auth/sdtalk/sdtadm/1/emp/login",loginId:"csmaster1",loginPassword:"1212"},{env:"\uc6b4\uc601",url:"http://localhost:9092?prj=sdtalk&appid=sdtadm&cid=1&token=1aec31172508a8",loginApiUrl:"http://localhost:9092/auth/sdtalk/sdtadm/1/emp/login",loginId:"csmaster1",loginPassword:"1212"}],defaultSocketUrl:"http://localhost:9090?prj=sdtalk&appid=sdtadm&cid=1&token=1aec31172508a8",defaultLoginApiUrl:"http://localhost:9090/auth/sdtalk/sdtadm/1/emp/login",defaultLoginId:"csmaster1",defaultLoginPassword:"1212",listenEventNameListString:"payload,notimsg,reads,err,error",webSocektRequestList:[{name:"join",protocol:"join",parameter:{empid:1,space:"66",speaker:177},isCallbackFunction:!0,callbackFunctionResponse:null},{name:"token",protocol:"token",parameter:{userno:"csmaster1"},isCallbackFunction:!0,callbackFunctionResponse:null}]},T=R,j=n(135),I=n(133),M=n.n(I),P=n(117),A=n.n(P),D=n(79),x=n.n(D),N=b.a.Panel,_=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).socket=null,a.state={socket:null,loginToken:"",loginUser:null,socketUrl:T.defaultSocketUrl,isConnected:!1,isUrlModalOpen:!1,isLoginUserModalOpen:!1,loginApiUrl:T.defaultLoginApiUrl,loginId:T.defaultLoginId,loginPassword:T.defaultLoginPassword,listenEventNameListString:T.listenEventNameListString,currentEventName:"",currentEventResponse:null,viewListEvent:!0,viewWebSocketRequestInfo:!0,viewSdtSocketList:!0,requestWebSocketProtocol:"",requestWebSocketCallbackEnable:!0,requestWebSocketParamter:null,validRequestParamter:!0,requestCallbackResponse:null,webSocektRequestList:T.webSocektRequestList,isLoading:!1},a.changeInput=a.changeInput.bind(Object(d.a)(a)),a.changeCheckbox=a.changeCheckbox.bind(Object(d.a)(a)),a.showModal=a.showModal.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.showLoginUserModal=a.showLoginUserModal.bind(Object(d.a)(a)),a.closeLoginUserModal=a.closeLoginUserModal.bind(Object(d.a)(a)),a.changeUrlInfo=a.changeUrlInfo.bind(Object(d.a)(a)),a.connect=a.connect.bind(Object(d.a)(a)),a.disconnect=a.disconnect.bind(Object(d.a)(a)),a.connectSocket=a.connectSocket.bind(Object(d.a)(a)),a.initDefaultSocektEvent=a.initDefaultSocektEvent.bind(Object(d.a)(a)),a.onConnect=a.onConnect.bind(Object(d.a)(a)),a.onDisconnect=a.onDisconnect.bind(Object(d.a)(a)),a.resetData=a.resetData.bind(Object(d.a)(a)),a.copyClipboardByLoginInfo=a.copyClipboardByLoginInfo.bind(Object(d.a)(a)),a.addCustomEvent=a.addCustomEvent.bind(Object(d.a)(a)),a.requestWebSocket=a.requestWebSocket.bind(Object(d.a)(a)),a.requestSdtWebsocket=a.requestSdtWebsocket.bind(Object(d.a)(a)),a.changeWebSocektRequestListToParameter=a.changeWebSocektRequestListToParameter.bind(Object(d.a)(a)),a.changeWebSocektRequestListToResponse=a.changeWebSocektRequestListToResponse.bind(Object(d.a)(a)),a}return Object(r.a)(n,[{key:"handleGlobalError",value:function(e,t,n,a,o){o&&"string"===typeof o&&(o={message:o});var l="";l=(l=(l=(l=l+"url : "+t+"\n")+"lineNumber : "+n+"\n")+"column : "+a+"\n")+"message : "+(o&&o.message?o.message:"NO MESSAGE")+"\n",(o=o||{}).message=l;var i={message:o.message};return o.stack&&(i.statck=o.stack),console.info("appErrorInfo : "+JSON.stringify(i)),!1}},{key:"init",value:function(){console.info("process.env : "+JSON.stringify(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))),window.onerror=this.handleGlobalError}},{key:"changeInput",value:function(e,t){this.setState(Object(s.a)({},t,e.target.value))}},{key:"changeCheckbox",value:function(e,t){var n=e.target.checked;this.setState(Object(s.a)({},t,n))}},{key:"showModal",value:function(){this.setState({isUrlModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isUrlModalOpen:!1})}},{key:"showLoginUserModal",value:function(){this.setState({isLoginUserModalOpen:!0})}},{key:"closeLoginUserModal",value:function(){this.setState({isLoginUserModalOpen:!1})}},{key:"changeUrlInfo",value:function(e){this.setState({socketUrl:e.url,loginApiUrl:e.loginApiUrl,loginId:e.loginId,loginPassword:e.loginPassword,isUrlModalOpen:!1})}},{key:"resetData",value:function(){this.socket&&this.socket.disconnect(),this.socket=null,this.setState({loginToken:"",loginUser:null,socket:null,isConnected:!1,isUrlModalOpen:!1,currentEventName:"",currentEventResponse:null,viewListEvent:!0,viewWebSocketRequestInfo:!0,viewSdtSocketList:!0,requestCallbackResponse:null,webSocektRequestList:T.webSocektRequestList})}},{key:"copyClipboardByLoginInfo",value:function(){var e=this.state,t=e.socket,n=e.loginUser,a=e.loginToken,o="\uc18c\ucf13 id : "+(t?t.id:"")+"\n\ub85c\uadf8\uc778 \ud1a0\ud070 : "+a+"\n\uc0ac\uc6a9\uc790 \uc815\ubcf4(JSON) : "+JSON.stringify(n);A()(o),alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),this.closeLoginUserModal()}},{key:"connect",value:function(){var e=this;this.resetData();var t=this.state,n=t.loginApiUrl,a=t.loginId,o=t.loginPassword;this.socket&&this.socket.disconnect(),this.setState({isLoading:!0}),k.a.post(n,{username:a,password:o}).then((function(t){var n=t.data,a=n.token,o=n.user;e.setState({loginUser:o,loginToken:a,isLoading:!1}),e.connectSocket()})).catch((function(t){e.setState({isLoading:!1})}))}},{key:"disconnect",value:function(){this.socket&&(this.socket.disconnect(),this.resetData())}},{key:"connectSocket",value:function(){var e=this.state.socketUrl;this.socket=p()(e),this.initDefaultSocektEvent()}},{key:"initDefaultSocektEvent",value:function(){this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("message",this.onMessage),this.socket.on("event",this.onEvent)}},{key:"onConnect",value:function(){var e=this.state.loginToken,t=this.socket;this.setState({socket:t,isConnected:!0}),this.socket.emit("login",{token:e})}},{key:"onDisconnect",value:function(e){this.socket=null,this.resetData()}},{key:"addCustomEvent",value:function(){var e=this,t=this.state.listenEventNameListString.split(","),n=this.socket;t.forEach((function(t){n.off(t),n.on(t,(function(n){e.setState({currentEventName:t,currentEventResponse:n})}))})),alert("\ucee4\uc2a4\ud140 \uc774\ubca4\ud2b8\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}},{key:"requestWebSocket",value:function(){var e=this,t=this.state,n=t.requestWebSocketProtocol,a=t.requestWebSocketParamter,o=null;t.requestWebSocketCallbackEnable&&(o=function(t,n){e.setState({requestCallbackResponse:n})}),this.socket.emit(n,a,o)}},{key:"requestSdtWebsocket",value:function(e,t){var n=this,a=t.protocol,o=t.parameter,l=null;t.isCallbackFunction&&(l=function(t,a){"string"===typeof a&&(a={rootString:a}),n.changeWebSocektRequestListToResponse(e,a)}),this.socket.emit(a,o,l)}},{key:"changeWebSocektRequestListToParameter",value:function(e,t){var n=this.state.webSocektRequestList,a=x()(n,Object(s.a)({},e,{parameter:{$set:t}}));this.setState({webSocektRequestList:a})}},{key:"changeWebSocektRequestListToResponse",value:function(e,t){var n=this.state.webSocektRequestList,a=x()(n,Object(s.a)({},e,{callbackFunctionResponse:{$set:t}}));this.setState({webSocektRequestList:a})}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.socket,a=t.loginUser,l=t.loginToken,i=t.socketUrl,s=t.isConnected,c=t.isUrlModalOpen,r=t.isLoginUserModalOpen,d=t.loginApiUrl,u=t.loginId,m=t.loginPassword,g=t.listenEventNameListString,p=t.currentEventName,h=t.currentEventResponse,k=t.viewListEvent,O=t.viewWebSocketRequestInfo,R=t.viewSdtSocketList,I=t.requestWebSocketProtocol,P=t.requestWebSocketCallbackEnable,A=t.requestWebSocketParamter,D=t.validRequestParamter,x=t.requestCallbackResponse,_=t.webSocektRequestList,B=t.isLoading,F=T.socketUrlList;return o.a.createElement("div",null,o.a.createElement(E.a,{tip:"Loading...",spinning:B},o.a.createElement("div",null,o.a.createElement(y.a,{title:"\uc18c\ucf13 URL \ubc0f \uacc4\uc815\uc120\ud0dd",visible:c,footer:null,onCancel:function(){return e.closeModal()}},o.a.createElement(b.a,null,F.map((function(t,n){return o.a.createElement(N,{header:t.env,key:n},o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:24},o.a.createElement("span",{style:{fontWeight:"bold"}},'"url"')," :"," ",t.url)),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:24},o.a.createElement("span",{style:{fontWeight:"bold"}},'"\ub85c\uadf8\uc778 api url"')," ",": ",t.loginApiUrl)),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:24},o.a.createElement("span",{style:{fontWeight:"bold"}},'"id"')," :"," ",t.loginId,","," ",o.a.createElement("span",{style:{fontWeight:"bold"}},'"password"')," ",": ",t.loginPassword)),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:24},o.a.createElement(S.a,{type:"primary",onClick:function(){return e.changeUrlInfo(t)}},"\uc801\uc6a9")," ")))})))),o.a.createElement(y.a,{title:"\ub85c\uadf8\uc778 \uc815\ubcf4",visible:r,footer:null,onCancel:function(){return e.closeLoginUserModal()}},o.a.createElement("p",null,o.a.createElement("span",{style:{fontWeight:"bold"}},'"\uc18c\ucf13 id"')," :"," ",n?n.id:""),o.a.createElement("p",null,o.a.createElement("span",{style:{fontWeight:"bold"}},'"token"')," :"," ",l),o.a.createElement("p",null,o.a.createElement("span",{style:{fontWeight:"bold"}},'"\uc0ac\uc6a9\uc790 \uc815\ubcf4 JSON"')),o.a.createElement("p",null,JSON.stringify(a)),o.a.createElement(S.a,{type:"primary",onClick:this.copyClipboardByLoginInfo},"\uc815\ubcf4 \ubcf5\uc0ac")),o.a.createElement("div",null,o.a.createElement(L.a,{orientation:"left",style:{fontWeight:"bold"}},"\uc5f0\uacb0\uc815\ubcf4"),o.a.createElement(f.a,{align:"middle",gutter:6},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"\uc18c\ucf13 url"),o.a.createElement(v.a,{span:10},o.a.createElement(w.a,{value:i,onChange:function(t){return e.changeInput(t,"socketUrl")}})),o.a.createElement(v.a,{span:10},s?o.a.createElement(S.a,{type:"primary",onClick:function(){return e.disconnect()},danger:!0},"\uc5f0\uacb0\ub04a\uae30"):o.a.createElement(S.a,{type:"primary",onClick:function(){return e.connect()}},"\uc5f0\uacb0")," ",o.a.createElement(S.a,{type:"primary",onClick:function(){return e.showModal()}},"URL \uc120\ud0dd")," ",o.a.createElement(S.a,{type:"primary",onClick:function(){return e.showLoginUserModal()},style:{display:a?"":"none"}},"\uc0ac\uc6a9\uc790 \uc815\ubcf4")," ",s?o.a.createElement(C.a,{color:"#2db7f5"},"\ud604\uc7ac \uc0c1\ud0dc connected"):o.a.createElement(C.a,{color:"#f50"},"\ud604\uc7ac \uc0c1\ud0dc disconnected"))),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"\ub85c\uadf8\uc778 api url"),o.a.createElement(v.a,{span:10},o.a.createElement(w.a,{value:d,onChange:function(t){return e.changeInput(t,"loginApiUrl")}}))),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:2,style:{textAlign:"right"}},"\ub85c\uadf8\uc778 ID"),o.a.createElement(v.a,{span:4},o.a.createElement(w.a,{value:u,onChange:function(t){return e.changeInput(t,"loginId")}})),o.a.createElement(v.a,{span:2,style:{textAlign:"right"}},"\uc554\ud638"),o.a.createElement(v.a,{span:4},o.a.createElement(w.a,{value:m,onChange:function(t){return e.changeInput(t,"loginPassword")}}))),o.a.createElement(f.a,{style:{marginTop:10}},o.a.createElement(v.a,{span:1,style:{textAlign:"right"}}),o.a.createElement(v.a,{span:22,style:{textAlign:"left"}},o.a.createElement(W.a,{checked:k,onChange:function(t){return e.changeCheckbox(t,"viewListEvent")}},"listen event \ubcf4\uae30"),o.a.createElement(W.a,{checked:O,onChange:function(t){return e.changeCheckbox(t,"viewWebSocketRequestInfo")}},"protocol request \ubcf4\uae30"),o.a.createElement(W.a,{checked:R,onChange:function(t){return e.changeCheckbox(t,"viewSdtSocketList")}},"\uc0c1\ub2f4\ud1a1 \uc694\uccad request \ubcf4\uae30")))),o.a.createElement("div",{style:{display:k?"":"none"}},o.a.createElement(L.a,{orientation:"left",style:{fontWeight:"bold"}},"listen event \uc815\ubcf4"),o.a.createElement(f.a,{align:"middle",gutter:6},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"event"),o.a.createElement(v.a,{span:15},o.a.createElement(U.a,{placement:"bottomLeft",title:", \uad6c\ubd84\uc790\ub85c \uc774\ubca4\ud2b8 \ub4f1\ub85d\n\uc608\uc2dc) join,message,payload",overlayStyle:{whiteSpace:"pre"}},o.a.createElement(w.a,{value:g,onChange:function(t){return e.changeInput(t,"listenEventNameListString")}}))),o.a.createElement(v.a,{span:4},o.a.createElement(S.a,{type:"primary",onClick:this.addCustomEvent,disabled:!s},"\uc774\ubca4\ud2b8 \ub4f1\ub85d"))),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10,marginLeft:10}},o.a.createElement(v.a,{span:6,align:"",style:{textAlign:"left",marginLeft:5}},"\ud604\uc7ac \uc751\ub2f5\uba85 :"," ",o.a.createElement("sapn",{style:{fontWeight:"bold",fontSize:"18px"}},'"'+p+'"'))),o.a.createElement(f.a,{style:{marginLeft:20,paddingTop:10,display:h?"":"none"}},o.a.createElement(v.a,{span:24},o.a.createElement(q.a,{name:!1,displayDataTypes:!1,collapsed:!1,src:h,indentWidth:10,theme:"monokai",style:{width:"80%"}})))),o.a.createElement("div",{style:{display:O?"":"none"}},o.a.createElement(L.a,{orientation:"left",style:{fontWeight:"bold"}},"\uc18c\ucf13 emit(\uacf5\ud1b5)"),o.a.createElement(f.a,{align:"middle",gutter:6},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"\uc18c\ucf13 \ud504\ub85c\ud1a0\ucf5c"),o.a.createElement(v.a,{span:10},o.a.createElement(w.a,{value:I,onChange:function(t){return e.changeInput(t,"requestWebSocketProtocol")}})," "),o.a.createElement(v.a,{span:10},o.a.createElement(S.a,{type:"primary",disabled:!s||!D,onClick:this.requestWebSocket},"\uc694\uccad")," ",o.a.createElement(W.a,{checked:P,onChange:function(t){return e.changeCheckbox(t,"requestWebSocketCallbackEnable")}},"callback \ud568\uc218"))),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"\uc694\uccad \ud30c\ub77c\ubbf8\ud130")),o.a.createElement(f.a,{style:{marginLeft:15,paddingTop:5}},o.a.createElement(j.a,{placeholder:A,theme:"light_mitsuketa_tribute",locale:M.a,colors:{string:"#DAA520",background:"#dbfbff"},width:"500px",height:"auto",style:{body:{minHeight:50},container:{width:"100%"},outerBox:{width:"80%"}},onChange:function(t){var n=t.error,a=t.jsObject;e.setState({validRequestParamter:!n,requestWebSocketParamter:a})}})),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:2,align:"",style:{textAlign:"right"}},"callback \uc751\ub2f5")),o.a.createElement(f.a,{style:{marginLeft:20,paddingTop:10,display:x?"":"none"}},o.a.createElement(v.a,{span:24},o.a.createElement(q.a,{name:!1,displayDataTypes:!1,collapsed:!1,src:x,indentWidth:10,theme:"monokai",style:{width:"80%"}})))),o.a.createElement("div",{style:{marginBottom:100,display:R?"":"none"}},o.a.createElement(L.a,{orientation:"left",style:{fontWeight:"bold"}},"\uc0c1\ub2f4\ud1a1 \uc6f9\uc18c\ucf13 \uc694\uccad \ubaa9\ub85d"),o.a.createElement(b.a,null,_.map((function(t,n){return o.a.createElement(N,{header:t.name,key:n},o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:24},"\uc694\uccad\uba85 :",o.a.createElement("sapn",{style:{fontWeight:"bold"}},'"',t.name,'"'),", callback \uc751\ub2f5 \uc5ec\ubd80",o.a.createElement(W.a,{checked:t.isCallbackFunction,style:{marginLeft:5}})," ",o.a.createElement(S.a,{type:"primary",size:"small",disabled:!s,onClick:function(){return e.requestSdtWebsocket(n,t)}},"\uc694\uccad")," ")),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:5,align:"",style:{textAlign:"left"}},"\uc694\uccad \ud30c\ub77c\ubbf8\ud130")),o.a.createElement(f.a,{style:{paddingTop:5}},o.a.createElement(q.a,{name:!1,displayDataTypes:!1,onEdit:function(t){e.changeWebSocektRequestListToParameter(n,t.updated_src)},collapsed:!1,src:t.parameter,indentWidth:10,theme:"monokai",style:{width:"80%"}})),o.a.createElement(f.a,{align:"middle",gutter:6,style:{marginTop:10}},o.a.createElement(v.a,{span:5,align:"",style:{textAlign:"left"}},"callback \uc751\ub2f5")),o.a.createElement(f.a,{style:{paddingTop:10,display:t.callbackFunctionResponse?"":"none"}},o.a.createElement(v.a,{span:24},o.a.createElement(q.a,{name:!1,displayDataTypes:!1,collapsed:!1,src:t.callbackFunctionResponse,indentWidth:10,theme:"monokai",style:{width:"80%"}}))))})))))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.230b369c.chunk.js.map